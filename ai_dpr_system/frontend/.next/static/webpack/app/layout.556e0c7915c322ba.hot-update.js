"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
self["webpackHotUpdate_N_E"]("app/layout",{

/***/ "(app-pages-browser)/./app/globals.css":
/*!*************************!*\
  !*** ./app/globals.css ***!
  \*************************/
/***/ (function(module, __webpack_exports__, __webpack_require__) {

eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony default export */ __webpack_exports__[\"default\"] = (\"66d348955103\");\nif (true) { module.hot.accept() }\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwcC1wYWdlcy1icm93c2VyKS8uL2FwcC9nbG9iYWxzLmNzcyIsIm1hcHBpbmdzIjoiO0FBQUEsK0RBQWUsY0FBYztBQUM3QixJQUFJLElBQVUsSUFBSSxpQkFBaUIiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9fTl9FLy4vYXBwL2dsb2JhbHMuY3NzPzJmMjEiXSwic291cmNlc0NvbnRlbnQiOlsiZXhwb3J0IGRlZmF1bHQgXCI2NmQzNDg5NTUxMDNcIlxuaWYgKG1vZHVsZS5ob3QpIHsgbW9kdWxlLmhvdC5hY2NlcHQoKSB9XG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(app-pages-browser)/./app/globals.css\n"));

/***/ }),

/***/ "(app-pages-browser)/./lib/api/auth-service.ts":
/*!*********************************!*\
  !*** ./lib/api/auth-service.ts ***!
  \*********************************/
/***/ (function(module, __webpack_exports__, __webpack_require__) {

eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   authService: function() { return /* binding */ authService; }\n/* harmony export */ });\n/* harmony import */ var _api_client__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./api-client */ \"(app-pages-browser)/./lib/api/api-client.ts\");\n\n// User authentication services\nconst authService = {\n    // Login user\n    login: async (email, password)=>{\n        try {\n            console.log(\"Login attempt with:\", email);\n            // Special case for admin demo account\n            if (email === \"admin@example.gov.in\" && password === \"password123\") {\n                console.log(\"Using admin credentials\");\n                // Create a token for the admin user\n                const adminToken = \"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIxIiwiZW1haWwiOiJhZG1pbkBleGFtcGxlLmdvdi5pbiIsImlhdCI6MTY5NzEyMDQyMCwiZXhwIjoxNzI4NjU2NDIwfQ.admin_user_token\";\n                const adminRefreshToken = \"refresh_token_admin\";\n                // Create admin user object\n                const adminUser = {\n                    id: \"1\",\n                    email: \"admin@example.gov.in\",\n                    full_name: \"Admin User\",\n                    department: \"Administration\",\n                    is_admin: true,\n                    is_reviewer: true\n                };\n                localStorage.setItem(\"auth-token\", adminToken);\n                localStorage.setItem(\"refresh-token\", adminRefreshToken);\n                localStorage.setItem(\"current-user\", JSON.stringify(adminUser));\n                // Clear any redirect flags from session storage\n                if ( true && window.sessionStorage) {\n                    sessionStorage.removeItem(\"admin-redirected\");\n                }\n                // Return admin user data\n                return {\n                    access_token: adminToken,\n                    refresh_token: adminRefreshToken,\n                    token_type: \"bearer\",\n                    user: adminUser\n                };\n            }\n            // Check for registered users in localStorage\n            const registeredUsers = JSON.parse(localStorage.getItem(\"registered-users\") || \"[]\");\n            const user = registeredUsers.find((u)=>u.email.toLowerCase() === email.toLowerCase());\n            if (user) {\n                console.log(\"Found registered user:\", user.email);\n                // Validate password - in a real app this would use proper password hashing\n                if (user.password === password) {\n                    console.log(\"Password matches for registered user\");\n                    // Create a token for the registered user - Use a fixed token for simplicity\n                    const userToken = \"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIyIiwiZW1haWwiOiJyZWdpc3RlcmVkQGV4YW1wbGUuY29tIiwiaWF0IjoxNjk3MTIwNDIwLCJleHAiOjE3Mjg2NTY0MjB9.registered_user_token\";\n                    const userRefreshToken = \"refresh_token_registered\";\n                    // Ensure is_admin is properly set as a boolean\n                    const userWithBooleanFlags = {\n                        ...user,\n                        is_admin: user.is_admin === true,\n                        is_reviewer: user.is_reviewer === true\n                    };\n                    localStorage.setItem(\"auth-token\", userToken);\n                    localStorage.setItem(\"refresh-token\", userRefreshToken);\n                    localStorage.setItem(\"current-user\", JSON.stringify(userWithBooleanFlags));\n                    // Return user data\n                    return {\n                        access_token: userToken,\n                        refresh_token: userRefreshToken,\n                        token_type: \"bearer\",\n                        user: {\n                            id: user.id,\n                            email: user.email,\n                            full_name: user.full_name,\n                            department: user.department,\n                            is_admin: user.is_admin === true,\n                            is_reviewer: user.is_reviewer === true\n                        }\n                    };\n                } else {\n                    console.error(\"Password does not match for user:\", email);\n                    throw new Error(\"Invalid email or password\");\n                }\n            }\n            // If not found in registered users, try API call\n            try {\n                const formData = new URLSearchParams();\n                formData.append(\"username\", email); // Backend expects 'username' from form\n                formData.append(\"password\", password);\n                const response = await _api_client__WEBPACK_IMPORTED_MODULE_0__[\"default\"].post(\"/api/v1/auth/login\", formData, {\n                    headers: {\n                        \"Content-Type\": \"application/x-www-form-urlencoded\"\n                    }\n                });\n                console.log(\"Login response:\", response);\n                if (response.data.access_token) {\n                    localStorage.setItem(\"auth-token\", response.data.access_token);\n                    localStorage.setItem(\"refresh-token\", response.data.refresh_token);\n                }\n                // Mock user data since the token endpoint doesn't return user info\n                const mockUser = {\n                    id: \"1\",\n                    email: email,\n                    full_name: \"Standard User\",\n                    department: \"General\",\n                    is_admin: false,\n                    is_reviewer: false\n                };\n                return {\n                    ...response.data,\n                    user: mockUser\n                };\n            } catch (apiError) {\n                console.error(\"API login failed:\", apiError);\n                throw new Error(\"Invalid email or password\");\n            }\n        } catch (error) {\n            console.error(\"Error during login:\", error);\n            throw error;\n        }\n    },\n    // Register new user\n    register: async (userData)=>{\n        try {\n            console.log(\"Registration attempt with:\", userData.email);\n            // For development/testing - simulate registration without backend\n            // Store the registered user in localStorage for persistence\n            const registeredUsers = JSON.parse(localStorage.getItem(\"registered-users\") || \"[]\");\n            // Check if email already exists\n            const emailExists = registeredUsers.some((user)=>user.email.toLowerCase() === userData.email.toLowerCase());\n            if (emailExists) {\n                throw {\n                    response: {\n                        data: {\n                            detail: \"Email already registered. Please use a different email address.\"\n                        }\n                    }\n                };\n            }\n            // Check if email exists in admin account\n            if (userData.email.toLowerCase() === \"admin@example.gov.in\") {\n                throw {\n                    response: {\n                        data: {\n                            detail: \"This email is reserved for system administration. Please use a different email address.\"\n                        }\n                    }\n                };\n            }\n            // Create new user with generated ID and include password\n            const newUser = {\n                id: Date.now().toString(),\n                email: userData.email,\n                password: userData.password,\n                full_name: userData.full_name,\n                department: userData.department,\n                is_admin: userData.is_admin || false,\n                is_reviewer: userData.is_reviewer || false,\n                created_at: new Date().toISOString()\n            };\n            // Add to registered users\n            registeredUsers.push(newUser);\n            localStorage.setItem(\"registered-users\", JSON.stringify(registeredUsers));\n            console.log(\"Registration successful:\", newUser);\n            // Also update the users list in localStorage for the users page\n            const usersListData = JSON.parse(localStorage.getItem(\"users-list\") || \"[]\");\n            usersListData.push({\n                id: parseInt(newUser.id),\n                name: newUser.full_name,\n                email: newUser.email,\n                department: newUser.department,\n                role: newUser.is_admin ? \"Admin\" : newUser.is_reviewer ? \"Reviewer\" : \"Standard User\",\n                status: \"Active\"\n            });\n            localStorage.setItem(\"users-list\", JSON.stringify(usersListData));\n            return {\n                data: {\n                    message: \"Registration successful\",\n                    user: newUser\n                }\n            };\n        } catch (error) {\n            console.error(\"Registration error:\", error);\n            throw error;\n        }\n    },\n    // Logout user\n    logout: ()=>{\n        localStorage.removeItem(\"auth-token\");\n        localStorage.removeItem(\"refresh-token\");\n        // Skip calling backend if it's causing issues\n        // Just return a resolved promise so the flow continues\n        return Promise.resolve();\n    },\n    // Get current user profile\n    getCurrentUser: async ()=>{\n        try {\n            // Check if we're using the admin or registered user token\n            const token = localStorage.getItem(\"auth-token\");\n            // For admin or registered users\n            if (token && (token.includes(\"admin_user_token\") || token.includes(\"registered_user_token\"))) {\n                // Get the current user data from localStorage\n                const currentUser = JSON.parse(localStorage.getItem(\"current-user\") || \"{}\");\n                if (currentUser && currentUser.email) {\n                    return {\n                        data: {\n                            id: currentUser.id,\n                            email: currentUser.email,\n                            full_name: currentUser.full_name,\n                            department: currentUser.department,\n                            is_admin: currentUser.is_admin || false,\n                            is_reviewer: currentUser.is_reviewer || false\n                        }\n                    };\n                }\n            }\n            // Otherwise use the real API\n            return await _api_client__WEBPACK_IMPORTED_MODULE_0__[\"default\"].get(\"/users/me\");\n        } catch (error) {\n            console.error(\"Error getting current user:\", error);\n            throw error;\n        }\n    },\n    // Refresh token\n    refreshToken: async (refreshToken)=>{\n        return _api_client__WEBPACK_IMPORTED_MODULE_0__[\"default\"].post(\"/auth/refresh\", {\n            refresh_token: refreshToken\n        });\n    }\n};\n/* harmony default export */ __webpack_exports__[\"default\"] = (authService);\n\n\n;\n    // Wrapped in an IIFE to avoid polluting the global scope\n    ;\n    (function () {\n        var _a, _b;\n        // Legacy CSS implementations will `eval` browser code in a Node.js context\n        // to extract CSS. For backwards compatibility, we need to check we're in a\n        // browser context before continuing.\n        if (typeof self !== 'undefined' &&\n            // AMP / No-JS mode does not inject these helpers:\n            '$RefreshHelpers$' in self) {\n            // @ts-ignore __webpack_module__ is global\n            var currentExports = module.exports;\n            // @ts-ignore __webpack_module__ is global\n            var prevSignature = (_b = (_a = module.hot.data) === null || _a === void 0 ? void 0 : _a.prevSignature) !== null && _b !== void 0 ? _b : null;\n            // This cannot happen in MainTemplate because the exports mismatch between\n            // templating and execution.\n            self.$RefreshHelpers$.registerExportsForReactRefresh(currentExports, module.id);\n            // A module can be accepted automatically based on its exports, e.g. when\n            // it is a Refresh Boundary.\n            if (self.$RefreshHelpers$.isReactRefreshBoundary(currentExports)) {\n                // Save the previous exports signature on update so we can compare the boundary\n                // signatures. We avoid saving exports themselves since it causes memory leaks (https://github.com/vercel/next.js/pull/53797)\n                module.hot.dispose(function (data) {\n                    data.prevSignature =\n                        self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports);\n                });\n                // Unconditionally accept an update to this module, we'll check if it's\n                // still a Refresh Boundary later.\n                // @ts-ignore importMeta is replaced in the loader\n                module.hot.accept();\n                // This field is set when the previous version of this module was a\n                // Refresh Boundary, letting us know we need to check for invalidation or\n                // enqueue an update.\n                if (prevSignature !== null) {\n                    // A boundary can become ineligible if its exports are incompatible\n                    // with the previous exports.\n                    //\n                    // For example, if you add/remove/change exports, we'll want to\n                    // re-execute the importing modules, and force those components to\n                    // re-render. Similarly, if you convert a class component to a\n                    // function, we want to invalidate the boundary.\n                    if (self.$RefreshHelpers$.shouldInvalidateReactRefreshBoundary(prevSignature, self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports))) {\n                        module.hot.invalidate();\n                    }\n                    else {\n                        self.$RefreshHelpers$.scheduleUpdate();\n                    }\n                }\n            }\n            else {\n                // Since we just executed the code for the module, it's possible that the\n                // new exports made it ineligible for being a boundary.\n                // We only care about the case when we were _previously_ a boundary,\n                // because we already accepted this update (accidental side effect).\n                var isNoLongerABoundary = prevSignature !== null;\n                if (isNoLongerABoundary) {\n                    module.hot.invalidate();\n                }\n            }\n        }\n    })();\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwcC1wYWdlcy1icm93c2VyKS8uL2xpYi9hcGkvYXV0aC1zZXJ2aWNlLnRzIiwibWFwcGluZ3MiOiI7Ozs7O0FBQXFDO0FBRXJDLCtCQUErQjtBQUN4QixNQUFNQyxjQUFjO0lBQ3pCLGFBQWE7SUFDYkMsT0FBTyxPQUFPQyxPQUFlQztRQUMzQixJQUFJO1lBQ0ZDLFFBQVFDLEdBQUcsQ0FBQyx1QkFBdUJIO1lBRW5DLHNDQUFzQztZQUN0QyxJQUFJQSxVQUFVLDBCQUEwQkMsYUFBYSxlQUFlO2dCQUNsRUMsUUFBUUMsR0FBRyxDQUFDO2dCQUVaLG9DQUFvQztnQkFDcEMsTUFBTUMsYUFBYTtnQkFDbkIsTUFBTUMsb0JBQW9CO2dCQUUxQiwyQkFBMkI7Z0JBQzNCLE1BQU1DLFlBQVk7b0JBQ2hCQyxJQUFJO29CQUNKUCxPQUFPO29CQUNQUSxXQUFXO29CQUNYQyxZQUFZO29CQUNaQyxVQUFVO29CQUNWQyxhQUFhO2dCQUNmO2dCQUVBQyxhQUFhQyxPQUFPLENBQUMsY0FBY1Q7Z0JBQ25DUSxhQUFhQyxPQUFPLENBQUMsaUJBQWlCUjtnQkFDdENPLGFBQWFDLE9BQU8sQ0FBQyxnQkFBZ0JDLEtBQUtDLFNBQVMsQ0FBQ1Q7Z0JBRXBELGdEQUFnRDtnQkFDaEQsSUFBSSxLQUFrQixJQUFlVSxPQUFPQyxjQUFjLEVBQUU7b0JBQzFEQSxlQUFlQyxVQUFVLENBQUM7Z0JBQzVCO2dCQUVBLHlCQUF5QjtnQkFDekIsT0FBTztvQkFDTEMsY0FBY2Y7b0JBQ2RnQixlQUFlZjtvQkFDZmdCLFlBQVk7b0JBQ1pDLE1BQU1oQjtnQkFDUjtZQUNGO1lBRUEsNkNBQTZDO1lBQzdDLE1BQU1pQixrQkFBa0JULEtBQUtVLEtBQUssQ0FBQ1osYUFBYWEsT0FBTyxDQUFDLHVCQUF1QjtZQUMvRSxNQUFNSCxPQUFPQyxnQkFBZ0JHLElBQUksQ0FBQyxDQUFDQyxJQUFXQSxFQUFFM0IsS0FBSyxDQUFDNEIsV0FBVyxPQUFPNUIsTUFBTTRCLFdBQVc7WUFFekYsSUFBSU4sTUFBTTtnQkFD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QyxNQUFNQTtRQUNSO0lBQ0Y7SUFFQSxnQkFBZ0I7SUFDaEJxQyxjQUFjLE9BQU9BO1FBQ25CLE9BQU94RSxtREFBU0EsQ0FBQ3lDLElBQUksQ0FBQyxpQkFBaUI7WUFBRWxCLGVBQWVpRDtRQUFhO0lBQ3ZFO0FBQ0YsRUFBRTtBQUVGLCtEQUFldkUsV0FBV0EsRUFBQyIsInNvdXJjZXMiOlsid2VicGFjazovL19OX0UvLi9saWIvYXBpL2F1dGgtc2VydmljZS50cz9kZTZlIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBhcGlDbGllbnQgZnJvbSAnLi9hcGktY2xpZW50JztcclxuXHJcbi8vIFVzZXIgYXV0aGVudGljYXRpb24gc2VydmljZXNcclxuZXhwb3J0IGNvbnN0IGF1dGhTZXJ2aWNlID0ge1xyXG4gIC8vIExvZ2luIHVzZXJcclxuICBsb2dpbjogYXN5bmMgKGVtYWlsOiBzdHJpbmcsIHBhc3N3b3JkOiBzdHJpbmcpID0+IHtcclxuICAgIHRyeSB7XHJcbiAgICAgIGNvbnNvbGUubG9nKCdMb2dpbiBhdHRlbXB0IHdpdGg6JywgZW1haWwpO1xyXG4gICAgICBcclxuICAgICAgLy8gU3BlY2lhbCBjYXNlIGZvciBhZG1pbiBkZW1vIGFjY291bnRcclxuICAgICAgaWYgKGVtYWlsID09PSAnYWRtaW5AZXhhbXBsZS5nb3YuaW4nICYmIHBhc3N3b3JkID09PSAncGFzc3dvcmQxMjMnKSB7XHJcbiAgICAgICAgY29uc29sZS5sb2coJ1VzaW5nIGFkbWluIGNyZWRlbnRpYWxzJyk7XHJcbiAgICAgICAgXHJcbiAgICAgICAgLy8gQ3JlYXRlIGEgdG9rZW4gZm9yIHRoZSBhZG1pbiB1c2VyXHJcbiAgICAgICAgY29uc3QgYWRtaW5Ub2tlbiA9IFwiZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFhWQ0o5LmV5SnpkV0lpT2lJeElpd2laVzFoYVd3aU9pSmhaRzFwYmtCbGVHRnRjR3hsTG1kdmRpNXBiaUlzSW1saGRDSTZNVFk1TnpFeU1EUXlNQ3dpWlhod0lqb3hOekk0TmpVMk5ESXdmUS5hZG1pbl91c2VyX3Rva2VuXCI7XHJcbiAgICAgICAgY29uc3QgYWRtaW5SZWZyZXNoVG9rZW4gPSBcInJlZnJlc2hfdG9rZW5fYWRtaW5cIjtcclxuICAgICAgICBcclxuICAgICAgICAvLyBDcmVhdGUgYWRtaW4gdXNlciBvYmplY3RcclxuICAgICAgICBjb25zdCBhZG1pblVzZXIgPSB7XHJcbiAgICAgICAgICBpZDogJzEnLFxyXG4gICAgICAgICAgZW1haWw6ICdhZG1pbkBleGFtcGxlLmdvdi5pbicsXHJcbiAgICAgICAgICBmdWxsX25hbWU6ICdBZG1pbiBVc2VyJyxcclxuICAgICAgICAgIGRlcGFydG1lbnQ6ICdBZG1pbmlzdHJhdGlvbicsXHJcbiAgICAgICAgICBpc19hZG1pbjogdHJ1ZSxcclxuICAgICAgICAgIGlzX3Jldmlld2VyOiB0cnVlXHJcbiAgICAgICAgfTtcclxuICAgICAgICBcclxuICAgICAgICBsb2NhbFN0b3JhZ2Uuc2V0SXRlbSgnYXV0aC10b2tlbicsIGFkbWluVG9rZW4pO1xyXG4gICAgICAgIGxvY2FsU3RvcmFnZS5zZXRJdGVtKCdyZWZyZXNoLXRva2VuJywgYWRtaW5SZWZyZXNoVG9rZW4pO1xyXG4gICAgICAgIGxvY2FsU3RvcmFnZS5zZXRJdGVtKCdjdXJyZW50LXVzZXInLCBKU09OLnN0cmluZ2lmeShhZG1pblVzZXIpKTtcclxuICAgICAgICBcclxuICAgICAgICAvLyBDbGVhciBhbnkgcmVkaXJlY3QgZmxhZ3MgZnJvbSBzZXNzaW9uIHN0b3JhZ2VcclxuICAgICAgICBpZiAodHlwZW9mIHdpbmRvdyAhPT0gJ3VuZGVmaW5lZCcgJiYgd2luZG93LnNlc3Npb25TdG9yYWdlKSB7XHJcbiAgICAgICAgICBzZXNzaW9uU3RvcmFnZS5yZW1vdmVJdGVtKCdhZG1pbi1yZWRpcmVjdGVkJyk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIFxyXG4gICAgICAgIC8vIFJldHVybiBhZG1pbiB1c2VyIGRhdGFcclxuICAgICAgICByZXR1cm4ge1xyXG4gICAgICAgICAgYWNjZXNzX3Rva2VuOiBhZG1pblRva2VuLFxyXG4gICAgICAgICAgcmVmcmVzaF90b2tlbjogYWRtaW5SZWZyZXNoVG9rZW4sXHJcbiAgICAgICAgICB0b2tlbl90eXBlOiAnYmVhcmVyJyxcclxuICAgICAgICAgIHVzZXI6IGFkbWluVXNlclxyXG4gICAgICAgIH07XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIC8vIENoZWNrIGZvciByZWdpc3RlcmVkIHVzZXJzIGluIGxvY2FsU3RvcmFnZVxyXG4gICAgICBjb25zdCByZWdpc3RlcmVkVXNlcnMgPSBKU09OLnBhcnNlKGxvY2FsU3RvcmFnZS5nZXRJdGVtKCdyZWdpc3RlcmVkLXVzZXJzJykgfHwgJ1tdJyk7XHJcbiAgICAgIGNvbnN0IHVzZXIgPSByZWdpc3RlcmVkVXNlcnMuZmluZCgodTogYW55KSA9PiB1LmVtYWlsLnRvTG93ZXJDYXNlKCkgPT09IGVtYWlsLnRvTG93ZXJDYXNlKCkpO1xyXG4gICAgICBcclxuICAgICAgaWYgKHVzZXIpIHtcclxuICAgICAgICBjb25zb2xlLmxvZygnRm91bmQgcmVnaXN0ZXJlZCB1c2VyOicsIHVzZXIuZW1haWwpO1xyXG4gICAgICAgIFxyXG4gICAgICAgIC8vIFZhbGlkYXRlIHBhc3N3b3JkIC0gaW4gYSByZWFsIGFwcCB0aGlzIHdvdWxkIHVzZSBwcm9wZXIgcGFzc3dvcmQgaGFzaGluZ1xyXG4gICAgICAgIGlmICh1c2VyLnBhc3N3b3JkID09PSBwYXNzd29yZCkge1xyXG4gICAgICAgICAgY29uc29sZS5sb2coJ1Bhc3N3b3JkIG1hdGNoZXMgZm9yIHJlZ2lzdGVyZWQgdXNlcicpO1xyXG4gICAgICAgICAgXHJcbiAgICAgICAgICAvLyBDcmVhdGUgYSB0b2tlbiBmb3IgdGhlIHJlZ2lzdGVyZWQgdXNlciAtIFVzZSBhIGZpeGVkIHRva2VuIGZvciBzaW1wbGljaXR5XHJcbiAgICAgICAgICBjb25zdCB1c2VyVG9rZW4gPSBcImV5SmhiR2NpT2lKSVV6STFOaUlzSW5SNWNDSTZJa3BYVkNKOS5leUp6ZFdJaU9pSXlJaXdpWlcxaGFXd2lPaUp5WldkcGMzUmxjbVZrUUdWNFlXMXdiR1V1WTI5dElpd2lhV0YwSWpveE5qazNNVEl3TkRJd0xDSmxlSEFpT2pFM01qZzJOVFkwTWpCOS5yZWdpc3RlcmVkX3VzZXJfdG9rZW5cIjtcclxuICAgICAgICAgIGNvbnN0IHVzZXJSZWZyZXNoVG9rZW4gPSBcInJlZnJlc2hfdG9rZW5fcmVnaXN0ZXJlZFwiO1xyXG4gICAgICAgICAgXHJcbiAgICAgICAgICAvLyBFbnN1cmUgaXNfYWRtaW4gaXMgcHJvcGVybHkgc2V0IGFzIGEgYm9vbGVhblxyXG4gICAgICAgICAgY29uc3QgdXNlcldpdGhCb29sZWFuRmxhZ3MgPSB7XHJcbiAgICAgICAgICAgIC4uLnVzZXIsXHJcbiAgICAgICAgICAgIGlzX2FkbWluOiB1c2VyLmlzX2FkbWluID09PSB0cnVlLFxyXG4gICAgICAgICAgICBpc19yZXZpZXdlcjogdXNlci5pc19yZXZpZXdlciA9PT0gdHJ1ZVxyXG4gICAgICAgICAgfTtcclxuICAgICAgICAgIFxyXG4gICAgICAgICAgbG9jYWxTdG9yYWdlLnNldEl0ZW0oJ2F1dGgtdG9rZW4nLCB1c2VyVG9rZW4pO1xyXG4gICAgICAgICAgbG9jYWxTdG9yYWdlLnNldEl0ZW0oJ3JlZnJlc2gtdG9rZW4nLCB1c2VyUmVmcmVzaFRva2VuKTtcclxuICAgICAgICAgIGxvY2FsU3RvcmFnZS5zZXRJdGVtKCdjdXJyZW50LXVzZXInLCBKU09OLnN0cmluZ2lmeSh1c2VyV2l0aEJvb2xlYW5GbGFncykpO1xyXG4gICAgICAgICAgXHJcbiAgICAgICAgICAvLyBSZXR1cm4gdXNlciBkYXRhXHJcbiAgICAgICAgICByZXR1cm4ge1xyXG4gICAgICAgICAgICBhY2Nlc3NfdG9rZW46IHVzZXJUb2tlbixcclxuICAgICAgICAgICAgcmVmcmVzaF90b2tlbjogdXNlclJlZnJlc2hUb2tlbixcclxuICAgICAgICAgICAgdG9rZW5fdHlwZTogJ2JlYXJlcicsXHJcbiAgICAgICAgICAgIHVzZXI6IHtcclxuICAgICAgICAgICAgICBpZDogdXNlci5pZCxcclxuICAgICAgICAgICAgICBlbWFpbDogdXNlci5lbWFpbCxcclxuICAgICAgICAgICAgICBmdWxsX25hbWU6IHVzZXIuZnVsbF9uYW1lLFxyXG4gICAgICAgICAgICAgIGRlcGFydG1lbnQ6IHVzZXIuZGVwYXJ0bWVudCxcclxuICAgICAgICAgICAgICBpc19hZG1pbjogdXNlci5pc19hZG1pbiA9PT0gdHJ1ZSxcclxuICAgICAgICAgICAgICBpc19yZXZpZXdlcjogdXNlci5pc19yZXZpZXdlciA9PT0gdHJ1ZSxcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgfTtcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgY29uc29sZS5lcnJvcignUGFzc3dvcmQgZG9lcyBub3QgbWF0Y2ggZm9yIHVzZXI6JywgZW1haWwpO1xyXG4gICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdJbnZhbGlkIGVtYWlsIG9yIHBhc3N3b3JkJyk7XHJcbiAgICAgICAgfVxyXG4gICAgICB9XHJcbiAgICAgIFxyXG4gICAgICAvLyBJZiBub3QgZm91bmQgaW4gcmVnaXN0ZXJlZCB1c2VycywgdHJ5IEFQSSBjYWxsXHJcbiAgICAgIHRyeSB7XHJcbiAgICAgICAgY29uc3QgZm9ybURhdGEgPSBuZXcgVVJMU2VhcmNoUGFyYW1zKCk7XHJcbiAgICAgICAgZm9ybURhdGEuYXBwZW5kKCd1c2VybmFtZScsIGVtYWlsKTsgIC8vIEJhY2tlbmQgZXhwZWN0cyAndXNlcm5hbWUnIGZyb20gZm9ybVxyXG4gICAgICAgIGZvcm1EYXRhLmFwcGVuZCgncGFzc3dvcmQnLCBwYXNzd29yZCk7XHJcbiAgICAgICAgXHJcbiAgICAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBhcGlDbGllbnQucG9zdCgnL2FwaS92MS9hdXRoL2xvZ2luJywgZm9ybURhdGEsIHtcclxuICAgICAgICAgIGhlYWRlcnM6IHtcclxuICAgICAgICAgICAgJ0NvbnRlbnQtVHlwZSc6ICdhcHBsaWNhdGlvbi94LXd3dy1mb3JtLXVybGVuY29kZWQnLFxyXG4gICAgICAgICAgfSxcclxuICAgICAgICB9KTtcclxuICAgICAgICBcclxuICAgICAgICBjb25zb2xlLmxvZygnTG9naW4gcmVzcG9uc2U6JywgcmVzcG9uc2UpO1xyXG4gICAgICAgIFxyXG4gICAgICAgIGlmIChyZXNwb25zZS5kYXRhLmFjY2Vzc190b2tlbikge1xyXG4gICAgICAgICAgbG9jYWxTdG9yYWdlLnNldEl0ZW0oJ2F1dGgtdG9rZW4nLCByZXNwb25zZS5kYXRhLmFjY2Vzc190b2tlbik7XHJcbiAgICAgICAgICBsb2NhbFN0b3JhZ2Uuc2V0SXRlbSgncmVmcmVzaC10b2tlbicsIHJlc3BvbnNlLmRhdGEucmVmcmVzaF90b2tlbik7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIFxyXG4gICAgICAgIC8vIE1vY2sgdXNlciBkYXRhIHNpbmNlIHRoZSB0b2tlbiBlbmRwb2ludCBkb2Vzbid0IHJldHVybiB1c2VyIGluZm9cclxuICAgICAgICBjb25zdCBtb2NrVXNlciA9IHtcclxuICAgICAgICAgIGlkOiAnMScsXHJcbiAgICAgICAgICBlbWFpbDogZW1haWwsXHJcbiAgICAgICAgICBmdWxsX25hbWU6ICdTdGFuZGFyZCBVc2VyJyxcclxuICAgICAgICAgIGRlcGFydG1lbnQ6ICdHZW5lcmFsJyxcclxuICAgICAgICAgIGlzX2FkbWluOiBmYWxzZSxcclxuICAgICAgICAgIGlzX3Jldmlld2VyOiBmYWxzZSxcclxuICAgICAgICB9O1xyXG4gICAgICAgIFxyXG4gICAgICAgIHJldHVybiB7XHJcbiAgICAgICAgICAuLi5yZXNwb25zZS5kYXRhLFxyXG4gICAgICAgICAgdXNlcjogbW9ja1VzZXJcclxuICAgICAgICB9O1xyXG4gICAgICB9IGNhdGNoIChhcGlFcnJvcikge1xyXG4gICAgICAgIGNvbnNvbGUuZXJyb3IoJ0FQSSBsb2dpbiBmYWlsZWQ6JywgYXBpRXJyb3IpO1xyXG4gICAgICAgIHRocm93IG5ldyBFcnJvcignSW52YWxpZCBlbWFpbCBvciBwYXNzd29yZCcpO1xyXG4gICAgICB9XHJcbiAgICB9IGNhdGNoIChlcnJvcikge1xyXG4gICAgICBjb25zb2xlLmVycm9yKCdFcnJvciBkdXJpbmcgbG9naW46JywgZXJyb3IpO1xyXG4gICAgICB0aHJvdyBlcnJvcjtcclxuICAgIH1cclxuICB9LFxyXG5cclxuICAvLyBSZWdpc3RlciBuZXcgdXNlclxyXG4gIHJlZ2lzdGVyOiBhc3luYyAodXNlckRhdGE6IHtcclxuICAgIGVtYWlsOiBzdHJpbmc7XHJcbiAgICBwYXNzd29yZDogc3RyaW5nO1xyXG4gICAgZnVsbF9uYW1lOiBzdHJpbmc7XHJcbiAgICBkZXBhcnRtZW50OiBzdHJpbmc7XHJcbiAgICBpc19hZG1pbj86IGJvb2xlYW47XHJcbiAgICBpc19yZXZpZXdlcj86IGJvb2xlYW47XHJcbiAgfSkgPT4ge1xyXG4gICAgdHJ5IHtcclxuICAgICAgY29uc29sZS5sb2coJ1JlZ2lzdHJhdGlvbiBhdHRlbXB0IHdpdGg6JywgdXNlckRhdGEuZW1haWwpO1xyXG4gICAgICBcclxuICAgICAgLy8gRm9yIGRldmVsb3BtZW50L3Rlc3RpbmcgLSBzaW11bGF0ZSByZWdpc3RyYXRpb24gd2l0aG91dCBiYWNrZW5kXHJcbiAgICAgIC8vIFN0b3JlIHRoZSByZWdpc3RlcmVkIHVzZXIgaW4gbG9jYWxTdG9yYWdlIGZvciBwZXJzaXN0ZW5jZVxyXG4gICAgICBjb25zdCByZWdpc3RlcmVkVXNlcnMgPSBKU09OLnBhcnNlKGxvY2FsU3RvcmFnZS5nZXRJdGVtKCdyZWdpc3RlcmVkLXVzZXJzJykgfHwgJ1tdJyk7XHJcbiAgICAgIFxyXG4gICAgICAvLyBDaGVjayBpZiBlbWFpbCBhbHJlYWR5IGV4aXN0c1xyXG4gICAgICBjb25zdCBlbWFpbEV4aXN0cyA9IHJlZ2lzdGVyZWRVc2Vycy5zb21lKCh1c2VyOiBhbnkpID0+IHVzZXIuZW1haWwudG9Mb3dlckNhc2UoKSA9PT0gdXNlckRhdGEuZW1haWwudG9Mb3dlckNhc2UoKSk7XHJcbiAgICAgIGlmIChlbWFpbEV4aXN0cykge1xyXG4gICAgICAgIHRocm93IHtcclxuICAgICAgICAgIHJlc3BvbnNlOiB7XHJcbiAgICAgICAgICAgIGRhdGE6IHtcclxuICAgICAgICAgICAgICBkZXRhaWw6ICdFbWFpbCBhbHJlYWR5IHJlZ2lzdGVyZWQuIFBsZWFzZSB1c2UgYSBkaWZmZXJlbnQgZW1haWwgYWRkcmVzcy4nXHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgIH1cclxuICAgICAgICB9O1xyXG4gICAgICB9XHJcbiAgICAgIFxyXG4gICAgICAvLyBDaGVjayBpZiBlbWFpbCBleGlzdHMgaW4gYWRtaW4gYWNjb3VudFxyXG4gICAgICBpZiAodXNlckRhdGEuZW1haWwudG9Mb3dlckNhc2UoKSA9PT0gJ2FkbWluQGV4YW1wbGUuZ292LmluJykge1xyXG4gICAgICAgIHRocm93IHtcclxuICAgICAgICAgIHJlc3BvbnNlOiB7XHJcbiAgICAgICAgICAgIGRhdGE6IHtcclxuICAgICAgICAgICAgICBkZXRhaWw6ICdUaGlzIGVtYWlsIGlzIHJlc2VydmVkIGZvciBzeXN0ZW0gYWRtaW5pc3RyYXRpb24uIFBsZWFzZSB1c2UgYSBkaWZmZXJlbnQgZW1haWwgYWRkcmVzcy4nXHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgIH1cclxuICAgICAgICB9O1xyXG4gICAgICB9XHJcbiAgICAgIFxyXG4gICAgICAvLyBDcmVhdGUgbmV3IHVzZXIgd2l0aCBnZW5lcmF0ZWQgSUQgYW5kIGluY2x1ZGUgcGFzc3dvcmRcclxuICAgICAgY29uc3QgbmV3VXNlciA9IHtcclxuICAgICAgICBpZDogRGF0ZS5ub3coKS50b1N0cmluZygpLFxyXG4gICAgICAgIGVtYWlsOiB1c2VyRGF0YS5lbWFpbCxcclxuICAgICAgICBwYXNzd29yZDogdXNlckRhdGEucGFzc3dvcmQsIC8vIFNhdmUgcGFzc3dvcmQgZm9yIGxvY2FsIGF1dGhlbnRpY2F0aW9uXHJcbiAgICAgICAgZnVsbF9uYW1lOiB1c2VyRGF0YS5mdWxsX25hbWUsXHJcbiAgICAgICAgZGVwYXJ0bWVudDogdXNlckRhdGEuZGVwYXJ0bWVudCxcclxuICAgICAgICBpc19hZG1pbjogdXNlckRhdGEuaXNfYWRtaW4gfHwgZmFsc2UsXHJcbiAgICAgICAgaXNfcmV2aWV3ZXI6IHVzZXJEYXRhLmlzX3Jldmlld2VyIHx8IGZhbHNlLFxyXG4gICAgICAgIGNyZWF0ZWRfYXQ6IG5ldyBEYXRlKCkudG9JU09TdHJpbmcoKVxyXG4gICAgICB9O1xyXG4gICAgICBcclxuICAgICAgLy8gQWRkIHRvIHJlZ2lzdGVyZWQgdXNlcnNcclxuICAgICAgcmVnaXN0ZXJlZFVzZXJzLnB1c2gobmV3VXNlcik7XHJcbiAgICAgIGxvY2FsU3RvcmFnZS5zZXRJdGVtKCdyZWdpc3RlcmVkLXVzZXJzJywgSlNPTi5zdHJpbmdpZnkocmVnaXN0ZXJlZFVzZXJzKSk7XHJcbiAgICAgIFxyXG4gICAgICBjb25zb2xlLmxvZygnUmVnaXN0cmF0aW9uIHN1Y2Nlc3NmdWw6JywgbmV3VXNlcik7XHJcbiAgICAgIFxyXG4gICAgICAvLyBBbHNvIHVwZGF0ZSB0aGUgdXNlcnMgbGlzdCBpbiBsb2NhbFN0b3JhZ2UgZm9yIHRoZSB1c2VycyBwYWdlXHJcbiAgICAgIGNvbnN0IHVzZXJzTGlzdERhdGEgPSBKU09OLnBhcnNlKGxvY2FsU3RvcmFnZS5nZXRJdGVtKCd1c2Vycy1saXN0JykgfHwgJ1tdJyk7XHJcbiAgICAgIHVzZXJzTGlzdERhdGEucHVzaCh7XHJcbiAgICAgICAgaWQ6IHBhcnNlSW50KG5ld1VzZXIuaWQpLFxyXG4gICAgICAgIG5hbWU6IG5ld1VzZXIuZnVsbF9uYW1lLFxyXG4gICAgICAgIGVtYWlsOiBuZXdVc2VyLmVtYWlsLFxyXG4gICAgICAgIGRlcGFydG1lbnQ6IG5ld1VzZXIuZGVwYXJ0bWVudCxcclxuICAgICAgICByb2xlOiBuZXdVc2VyLmlzX2FkbWluID8gJ0FkbWluJyA6IChuZXdVc2VyLmlzX3Jldmlld2VyID8gJ1Jldmlld2VyJyA6ICdTdGFuZGFyZCBVc2VyJyksXHJcbiAgICAgICAgc3RhdHVzOiAnQWN0aXZlJ1xyXG4gICAgICB9KTtcclxuICAgICAgbG9jYWxTdG9yYWdlLnNldEl0ZW0oJ3VzZXJzLWxpc3QnLCBKU09OLnN0cmluZ2lmeSh1c2Vyc0xpc3REYXRhKSk7XHJcbiAgICAgIFxyXG4gICAgICByZXR1cm4ge1xyXG4gICAgICAgIGRhdGE6IHsgXHJcbiAgICAgICAgICBtZXNzYWdlOiAnUmVnaXN0cmF0aW9uIHN1Y2Nlc3NmdWwnLFxyXG4gICAgICAgICAgdXNlcjogbmV3VXNlclxyXG4gICAgICAgIH1cclxuICAgICAgfTtcclxuICAgIH0gY2F0Y2ggKGVycm9yOiBhbnkpIHtcclxuICAgICAgY29uc29sZS5lcnJvcignUmVnaXN0cmF0aW9uIGVycm9yOicsIGVycm9yKTtcclxuICAgICAgdGhyb3cgZXJyb3I7XHJcbiAgICB9XHJcbiAgfSxcclxuXHJcbiAgLy8gTG9nb3V0IHVzZXJcclxuICBsb2dvdXQ6ICgpID0+IHtcclxuICAgIGxvY2FsU3RvcmFnZS5yZW1vdmVJdGVtKCdhdXRoLXRva2VuJyk7XHJcbiAgICBsb2NhbFN0b3JhZ2UucmVtb3ZlSXRlbSgncmVmcmVzaC10b2tlbicpO1xyXG4gICAgLy8gU2tpcCBjYWxsaW5nIGJhY2tlbmQgaWYgaXQncyBjYXVzaW5nIGlzc3Vlc1xyXG4gICAgLy8gSnVzdCByZXR1cm4gYSByZXNvbHZlZCBwcm9taXNlIHNvIHRoZSBmbG93IGNvbnRpbnVlc1xyXG4gICAgcmV0dXJuIFByb21pc2UucmVzb2x2ZSgpO1xyXG4gIH0sXHJcblxyXG4gIC8vIEdldCBjdXJyZW50IHVzZXIgcHJvZmlsZVxyXG4gIGdldEN1cnJlbnRVc2VyOiBhc3luYyAoKSA9PiB7XHJcbiAgICB0cnkge1xyXG4gICAgICAvLyBDaGVjayBpZiB3ZSdyZSB1c2luZyB0aGUgYWRtaW4gb3IgcmVnaXN0ZXJlZCB1c2VyIHRva2VuXHJcbiAgICAgIGNvbnN0IHRva2VuID0gbG9jYWxTdG9yYWdlLmdldEl0ZW0oJ2F1dGgtdG9rZW4nKTtcclxuICAgICAgXHJcbiAgICAgIC8vIEZvciBhZG1pbiBvciByZWdpc3RlcmVkIHVzZXJzXHJcbiAgICAgIGlmICh0b2tlbiAmJiAodG9rZW4uaW5jbHVkZXMoJ2FkbWluX3VzZXJfdG9rZW4nKSB8fCB0b2tlbi5pbmNsdWRlcygncmVnaXN0ZXJlZF91c2VyX3Rva2VuJykpKSB7XHJcbiAgICAgICAgLy8gR2V0IHRoZSBjdXJyZW50IHVzZXIgZGF0YSBmcm9tIGxvY2FsU3RvcmFnZVxyXG4gICAgICAgIGNvbnN0IGN1cnJlbnRVc2VyID0gSlNPTi5wYXJzZShsb2NhbFN0b3JhZ2UuZ2V0SXRlbSgnY3VycmVudC11c2VyJykgfHwgJ3t9Jyk7XHJcbiAgICAgICAgaWYgKGN1cnJlbnRVc2VyICYmIGN1cnJlbnRVc2VyLmVtYWlsKSB7XHJcbiAgICAgICAgICByZXR1cm4ge1xyXG4gICAgICAgICAgICBkYXRhOiB7XHJcbiAgICAgICAgICAgICAgaWQ6IGN1cnJlbnRVc2VyLmlkLFxyXG4gICAgICAgICAgICAgIGVtYWlsOiBjdXJyZW50VXNlci5lbWFpbCxcclxuICAgICAgICAgICAgICBmdWxsX25hbWU6IGN1cnJlbnRVc2VyLmZ1bGxfbmFtZSxcclxuICAgICAgICAgICAgICBkZXBhcnRtZW50OiBjdXJyZW50VXNlci5kZXBhcnRtZW50LFxyXG4gICAgICAgICAgICAgIGlzX2FkbWluOiBjdXJyZW50VXNlci5pc19hZG1pbiB8fCBmYWxzZSxcclxuICAgICAgICAgICAgICBpc19yZXZpZXdlcjogY3VycmVudFVzZXIuaXNfcmV2aWV3ZXIgfHwgZmFsc2UsXHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgIH07XHJcbiAgICAgICAgfVxyXG4gICAgICB9XHJcbiAgICAgIFxyXG4gICAgICAvLyBPdGhlcndpc2UgdXNlIHRoZSByZWFsIEFQSVxyXG4gICAgICByZXR1cm4gYXdhaXQgYXBpQ2xpZW50LmdldCgnL3VzZXJzL21lJyk7XHJcbiAgICB9IGNhdGNoIChlcnJvcikge1xyXG4gICAgICBjb25zb2xlLmVycm9yKCdFcnJvciBnZXR0aW5nIGN1cnJlbnQgdXNlcjonLCBlcnJvcik7XHJcbiAgICAgIHRocm93IGVycm9yO1xyXG4gICAgfVxyXG4gIH0sXHJcblxyXG4gIC8vIFJlZnJlc2ggdG9rZW5cclxuICByZWZyZXNoVG9rZW46IGFzeW5jIChyZWZyZXNoVG9rZW46IHN0cmluZykgPT4ge1xyXG4gICAgcmV0dXJuIGFwaUNsaWVudC5wb3N0KCcvYXV0aC9yZWZyZXNoJywgeyByZWZyZXNoX3Rva2VuOiByZWZyZXNoVG9rZW4gfSk7XHJcbiAgfSxcclxufTtcclxuXHJcbmV4cG9ydCBkZWZhdWx0IGF1dGhTZXJ2aWNlOyJdLCJuYW1lcyI6WyJhcGlDbGllbnQiLCJhdXRoU2VydmljZSIsImxvZ2luIiwiZW1haWwiLCJwYXNzd29yZCIsImNvbnNvbGUiLCJsb2ciLCJhZG1pblRva2VuIiwiYWRtaW5SZWZyZXNoVG9rZW4iLCJhZG1pblVzZXIiLCJpZCIsImZ1bGxfbmFtZSIsImRlcGFydG1lbnQiLCJpc19hZG1pbiIsImlzX3Jldmlld2VyIiwibG9jYWxTdG9yYWdlIiwic2V0SXRlbSIsIkpTT04iLCJzdHJpbmdpZnkiLCJ3aW5kb3ciLCJzZXNzaW9uU3RvcmFnZSIsInJlbW92ZUl0ZW0iLCJhY2Nlc3NfdG9rZW4iLCJyZWZyZXNoX3Rva2VuIiwidG9rZW5fdHlwZSIsInVzZXIiLCJyZWdpc3RlcmVkVXNlcnMiLCJwYXJzZSIsImdldEl0ZW0iLCJmaW5kIiwidSIsInRvTG93ZXJDYXNlIiwidXNlclRva2VuIiwidXNlclJlZnJlc2hUb2tlbiIsInVzZXJXaXRoQm9vbGVhbkZsYWdzIiwiZXJyb3IiLCJFcnJvciIsImZvcm1EYXRhIiwiVVJMU2VhcmNoUGFyYW1zIiwiYXBwZW5kIiwicmVzcG9uc2UiLCJwb3N0IiwiaGVhZGVycyIsImRhdGEiLCJtb2NrVXNlciIsImFwaUVycm9yIiwicmVnaXN0ZXIiLCJ1c2VyRGF0YSIsImVtYWlsRXhpc3RzIiwic29tZSIsImRldGFpbCIsIm5ld1VzZXIiLCJEYXRlIiwibm93IiwidG9TdHJpbmciLCJjcmVhdGVkX2F0IiwidG9JU09TdHJpbmciLCJwdXNoIiwidXNlcnNMaXN0RGF0YSIsInBhcnNlSW50IiwibmFtZSIsInJvbGUiLCJzdGF0dXMiLCJtZXNzYWdlIiwibG9nb3V0IiwiUHJvbWlzZSIsInJlc29sdmUiLCJnZXRDdXJyZW50VXNlciIsInRva2VuIiwiaW5jbHVkZXMiLCJjdXJyZW50VXNlciIsImdldCIsInJlZnJlc2hUb2tlbiJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(app-pages-browser)/./lib/api/auth-service.ts\n"));

/***/ })

});